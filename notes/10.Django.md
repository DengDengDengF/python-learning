[TOC]



## tips:以下均是后台项目需要实操部分

### 1.Django创建第一个项目

```python
django安装略
查看django版本号: python -m django --version
创建项目: django-admin startproject '项目名称'
服务器启动：python manage.py runserver localhost:8000

settings.py下
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql', #mysql 和 sqlite3完全不一样
        'NAME': 'testdb',  # 指定您的数据库名称
        'USER': 'root',  # 指定您的MySQL用户名
        'PASSWORD': 'root',  # 指定您的MySQL密码
        'HOST': 'localhost',  # 如果MySQL服务器在本地，则使用localhost
        'PORT': '3306',  # MySQL默认端口为3306，如果您的MySQL服务器使用了其他端口，请修改为相应的端口号
    }
}
```

### 2.Django模板

```js
1.根目录创建 templates文件 装载html文件
2.settings.py 修改改TEMPLATES 中的 DIRS 为 [os.path.join(BASE_DIR, 'templates')]
3.views.py  与模板交互细节略..
4.根目录下创建 templatetags  只能叫templatetags 装在自定义标签和过滤器  
    修改 settings.py 文件的 TEMPLATES 选项配置，添加 libraries 配置：
    ...
TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [BASE_DIR, "/templates",],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
            "libraries":{                          # 添加这边三行配置
                'my_tags':'templatetags.”自定义标签过滤器“'   # 添加这边三行配置        
            }                                      # 添加这边三行配置
        },
    },
]
...
5.配置静态文件。根目录创建statics settings.py文件添加配置：
  STATIC_URL = '/static/' # 别名 
  STATICFILES_DIRS = [ 
      os.path.join(BASE_DIR, "statics"), 
  ]
  html文件head标签引入 <link rel="stylesheet" href="/static/plugins/bootstrap-3.3.7/dist/css/bootstrap.css">
      
引入图片略
6.模板继承略
```

### 3.django模型*

```python
1.确保已经有了数据库
2.settings.py 找到 DATABASES配置项 修改信息，引擎不要弄错了。
3.__init__.py(和settings.py同级)配置
    import pymysql
    pymysql.install_as_MySQLdb()
4.创建app
    django-admin startapp '模型名字'
5.'模型名字'/model.py代码如下,就是定义表的代码
6.接下来在 settings.py 中找到INSTALLED_APPS这一项，如下：
    INSTALLED_APPS = (
     ......
    '模型名字',               # 添加此项
    )
7.命令行运行
 python manage.py migrate   # 创建表结构
 python manage.py makemigrations TestModel  # 让 Django 知道我们在我们的模型有一些变更
 python manage.py migrate TestModel   # 创建表结构   
8.添加testdb.py和settings.py同级。
9.urls.py修改，使其可以访问到testdb指定函数
```

#### 3.1增删改查

```python
from django.http import HttpResponse
from TestModel.models import Test
//这个是增、其他的看教程
def testdb(request):
    test1 = Test(name='runoob')
    test1.save()
    return HttpResponse("<p>数据添加成功！</p>")
```

#### 

### 4.Django表单

```python
1.模板目录添加表单
2.uls.py规则修改，
3.xx.py,接受用户请求(和settings.py同级)
```

### 5.Django Admin 管理工具

```python
1.settings.py 种的 INSTALLED_APPS可以看到配置
2.urls.py 配置好
       # urls.py
       from django.conf.urls import url
       from django.contrib import admin
       urlpatterns = [
           url(r'^admin/', admin.site.urls),
       ]
3.python manage.py createsuperuser创建超级用户。
4.为了让admin管理某个数据模型，要先注册数据模型到admin
        from django.contrib import admin
        from TestModel.models import Test,Contact,Tag
 
        # Register your models here.
        class TagInline(admin.TabularInline):
              model = Tag
 
        class ContactAdmin(admin.ModelAdmin):
              list_display = ('name','age', 'email') # list
              search_fields = ('name',)
              inlines = [TagInline]  # Inline
              fieldsets = (
              ['Main',{
                  'fields':('name','email'),
              }],
              ['Advance',{
                  'classes': ('collapse',),
                  'fields': ('age',),
              }]
 
    )
 
admin.site.register(Contact, ContactAdmin)
admin.site.register([Test])
其中省略了一些操作，具体看教程       
 
```

